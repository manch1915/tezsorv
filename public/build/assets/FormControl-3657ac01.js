import{h as m,y as p,A as b,H as F,o as r,f as s,u as a,i as g,I as w,k as h,n as v,F as B,z as E,t as V,J as R,K as q,c as M,g as C}from"./app-21f7968e.js";import{u as D}from"./main-268c7f38.js";import{_ as K}from"./FormControlIcon-a631dc1b.js";const U={class:"relative"},A=["id","name"],H=["value"],L=["id","name","maxlength","placeholder","required"],z=["id","name","maxlength","inputmode","autocomplete","required","placeholder","type"],j={__name:"FormControl",props:{name:{type:String,default:null},id:{type:String,default:null},autocomplete:{type:String,default:null},maxlength:{type:String,default:null},placeholder:{type:String,default:null},inputmode:{type:String,default:null},icon:{type:String,default:null},options:{type:Array,default:null},type:{type:String,default:"text"},modelValue:{type:[String,Number,Boolean,Array,Object],default:""},required:Boolean,borderless:Boolean,transparent:Boolean,ctrlKFocus:Boolean},emits:["update:modelValue","setRef"],setup(e,{emit:d}){const o=e,n=m({get:()=>o.modelValue,set:u=>{d("update:modelValue",u)}}),f=m(()=>{const u=["px-3 py-2 max-w-full focus:ring focus:outline-none border-gray-700 rounded w-full","dark:placeholder-gray-400",i.value==="textarea"?"h-24":"h-12",o.borderless?"border-0":"border",o.transparent?"bg-transparent":"bg-white dark:bg-slate-800"];return o.icon&&u.push("pl-10"),u}),i=m(()=>o.options?"select":o.type),S=m(()=>o.type==="textarea"?"h-full":"h-12"),y=D(),k=p(null),x=p(null),c=p(null);if(b(()=>{k.value?d("setRef",k.value):x.value?d("setRef",x.value):d("setRef",c.value)}),o.ctrlKFocus){const u=t=>{t.ctrlKey&&t.key==="k"?(t.preventDefault(),c.value.focus()):t.key==="Escape"&&c.value.blur()};b(()=>{y.isFieldFocusRegistered||(window.addEventListener("keydown",u),y.isFieldFocusRegistered=!0)}),F(()=>{window.removeEventListener("keydown",u),y.isFieldFocusRegistered=!1})}return(u,t)=>(r(),s("div",U,[a(i)==="select"?g((r(),s("select",{key:0,id:e.id,"onUpdate:modelValue":t[0]||(t[0]=l=>h(n)?n.value=l:null),name:e.name,class:v(a(f))},[(r(!0),s(B,null,E(e.options,l=>(r(),s("option",{key:l.id??l,value:l},V(l.label??l),9,H))),128))],10,A)),[[w,a(n)]]):a(i)==="textarea"?g((r(),s("textarea",{key:1,id:e.id,"onUpdate:modelValue":t[1]||(t[1]=l=>h(n)?n.value=l:null),class:v(a(f)),name:e.name,maxlength:e.maxlength,placeholder:e.placeholder,required:e.required},null,10,L)),[[R,a(n)]]):g((r(),s("input",{key:2,id:e.id,ref_key:"inputEl",ref:c,"onUpdate:modelValue":t[2]||(t[2]=l=>h(n)?n.value=l:null),name:e.name,maxlength:e.maxlength,inputmode:e.inputmode,autocomplete:e.autocomplete,required:e.required,placeholder:e.placeholder,type:a(i),class:v(a(f))},null,10,z)),[[q,a(n)]]),e.icon?(r(),M(K,{key:3,icon:e.icon,h:a(S)},null,8,["icon","h"])):C("",!0)]))}};export{j as _};
