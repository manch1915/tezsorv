import{D as I,M as $}from"./MainLayout-49f52ffb.js";import{M as C}from"./MainHeader-8b381d3d.js";import{o as r,c as M,w as _,r as N,T as k,l as T,q as u,f as c,b as t,e as E,t as x,g as m,a as s,n as B,F as S,z as D,d as b,B as A,y as F,A as O,h as V,u as n,i as j,s as q,p as H,m as R}from"./app-21f7968e.js";import{f as z}from"./index-e259ffb7.js";import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";import{u as P}from"./main-268c7f38.js";import{R as W}from"./RingLoader-94392e99.js";import"./mdi-e7275ea8.js";import"./BaseIcon-e9972e82.js";import"./dark-a65a64b8.js";const G={name:"TransitionExpand",methods:{enter(e){const a=getComputedStyle(e).width;e.style.width=a,e.style.position="absolute",e.style.visibility="hidden",e.style.height="auto";const l=getComputedStyle(e).height;e.style.width=null,e.style.position=null,e.style.visibility=null,e.style.height=0,getComputedStyle(e).height,requestAnimationFrame(()=>{e.style.height=l})},afterEnter(e){e.style.height="auto"},leave(e){const a=getComputedStyle(e).height;e.style.height=a,getComputedStyle(e).height,requestAnimationFrame(()=>{e.style.height=0})}}};function J(e,a,l,f,o,d){return r(),M(k,{name:"expand",onEnter:d.enter,onAfterEnter:d.afterEnter,onLeave:d.leave},{default:_(()=>[N(e.$slots,"default",{},void 0,!0)]),_:3},8,["onEnter","onAfterEnter","onLeave"])}const w=y(G,[["render",J],["__scopeId","data-v-e038623b"]]);const K={name:"SideBarListItem",components:{TransitionExpand:w,ChevronDownIcon:z,Link:T},data(){return{active:!1}},props:{list:Object}},Q={class:"list node node9 forum level_2"},U={class:"nodeInfo forumNodeInfo"},X={class:"nodeTitle flex"},Y={key:0,href:"#"},Z={key:0,class:"subForumList"},tt={class:"node node766 forum level-n"},et={class:"unread"},st={class:"nodeTitle"};function ot(e,a,l,f,o,d){const h=u("ChevronDownIcon"),v=u("Link"),g=u("TransitionExpand");return r(),c("li",Q,[t("div",U,[t("div",{onClick:a[0]||(a[0]=E(p=>o.active=!o.active,["prevent"])),class:"nodeText"},[t("h3",X,[l.list?(r(),c("a",Y,x(l.list.name),1)):m("",!0),s(h,{class:B(o.active?"w-6 rotate-180 transition cursor-pointer":"w-6 rotate-0 transition cursor-pointer")},null,8,["class"])])]),s(g,null,{default:_(()=>[o.active?(r(),c("ol",Z,[(r(!0),c(S,null,D(l.list.subcategories,p=>(r(),c("li",tt,[t("div",et,[t("h4",st,[s(v,{class:"menuRow",href:e.route("thread.showThreads",[p.category_id,p.id])},{default:_(()=>[b(x(p.name),1)]),_:2},1032,["href"])])])]))),256))])):m("",!0)]),_:1})])])}const i=y(K,[["render",ot],["__scopeId","data-v-d9a51948"]]);const L=e=>(H("data-v-a4153396"),e=e(),R(),e),nt={class:"section flex flex-col gap-y-3"},it={key:0,class:"flex justify-center my-2"},at={key:0,class:"section pt-4"},lt={class:"nodeList NodeList forums text-slate-300"},rt={class:"generalTabs"},ct={class:"list node node0 forum level_2 current"},dt={class:"nodeInfo forumNodeInfo"},_t={class:"nodeText"},ut={class:"nodeTitle"},ht=L(()=>t("span",{class:"ForumSearch",tabindex:"0"},null,-1)),pt=L(()=>t("li",{class:"mt-2"},[t("ul",{class:"PersonalTabs"},[t("li",{class:"list node personalTabmythreads personalTab forum level_2"},[t("a",{class:"icon OverlayTrigger",href:"#"}),t("div",{class:"nodeInfo forumNodeInfo"},[t("div",{class:"nodeText"},[t("h3",{class:"nodeTitle"},[t("a",{href:"#"},[t("span",{class:"personalTabTitle"},"Իմ հոդվածները")])])])])])])],-1)),ft={id:"103",class:"node category level_1"},vt={class:"nodeList"},mt={id:"84",class:"node category level_1"},yt=L(()=>t("div",{class:"categoryNodeInfo categoryStrip"},[t("div",{class:"categoryText"},[t("h3",{class:"nodeTitle"},"Общий раздел")])],-1)),gt={class:"nodeList"},Tt={__name:"NavSidebar",setup(e){const a=A({loading:!1}),l=F(!0);window.innerWidth<1122&&(l.value=!1);const f=P();O(async()=>{a.loading=!0,await f.fetchSlideList(),a.loading=!1});const o=V(()=>f.slideList);return(d,h)=>(r(),c(S,null,[t("div",nt,[s(n(T),{class:"CreateThreadButton buttons button primary full callToAction",href:d.route("thread.new")},{default:_(()=>[b("Սարքել հոդված")]),_:1},8,["href"]),t("a",{onClick:h[0]||(h[0]=v=>l.value=!l.value),class:"hidden OpenList buttons button full callToAction",href:"#"},"Բացել բաժինները")]),a.loading?(r(),c("div",it,[s(W,{loading:a.loading},null,8,["loading"])])):m("",!0),s(w,null,{default:_(()=>[n(o)[0]?j((r(),c("div",at,[t("ol",lt,[t("ul",rt,[t("li",ct,[t("div",dt,[t("div",_t,[t("h3",ut,[s(n(T),{href:d.route("main")},{default:_(()=>[b("Բոլոր հոդվածները")]),_:1},8,["href"])])])]),ht]),pt]),t("li",ft,[t("ol",vt,[s(i,{list:n(o)[0]},null,8,["list"]),s(i,{list:n(o)[1]},null,8,["list"]),s(i,{list:n(o)[2]},null,8,["list"]),s(i,{list:n(o)[3]},null,8,["list"]),s(i,{list:n(o)[4]},null,8,["list"]),s(i,{list:n(o)[5]},null,8,["list"]),s(i,{list:n(o)[6]},null,8,["list"]),s(i,{list:n(o)[7]},null,8,["list"]),s(i,{list:n(o)[8]},null,8,["list"])])]),t("li",mt,[yt,t("ol",gt,[s(i,{list:n(o)[9]},null,8,["list"]),s(i,{list:n(o)[10]},null,8,["list"]),s(i,{list:n(o)[11]},null,8,["list"]),s(i,{list:n(o)[12]},null,8,["list"]),s(i,{list:n(o)[13]},null,8,["list"])])])])],512)),[[q,l.value]]):m("",!0)]),_:1})],64))}},bt=y(Tt,[["__scopeId","data-v-a4153396"]]);const Lt={name:"Main",components:{NavSidebar:bt,MainHeader:C,DiscussionList:I,MainLayout:$},props:{auth:Object}};function xt(e,a,l,f,o,d){const h=u("MainHeader"),v=u("DiscussionList"),g=u("NavSidebar"),p=u("MainLayout");return r(),c("main",null,[s(h,{auth:l.auth},null,8,["auth"]),s(p,null,{main:_(()=>[s(v)]),sidebar:_(()=>[s(g)]),_:1})])}const Dt=y(Lt,[["render",xt]]);export{Dt as default};
